

<div class="steppers-container row">
  <div class="col-md-12 col-lg-12 col-xxxl-12">
    <nb-card>
      <nb-card-body>
        <nb-stepper #stepper>
          <nb-step label="Schritt 1">
            
            <form class="step-container d-flex flex-column">
              <h5>Verbinde dein Telefon</h5>
              <p class="lorem">
                Bitte gib hier deine Telefonnummer ein (mit Vorwahl).
              </p>
              <div class="input-group">
                <input maxlength="15" type="text" [(ngModel)]="data.signalreq.telnumber" name="first" placeholder="+43" class="form-control" >
              </div>
              <br><br>
              <p class="lorem">
                Aktivieren sie das Häckenwenn sie einen Anruf anstatt einer SMS enthalten wollen.
              </p>
              
                <nb-checkbox (checkedChange)="toggle($event)">{{ getToggle() }}</nb-checkbox>
              
              
              

              <!--<p class="lorem">
                Bitte gib hier deine Captcha ein.
              </p>
              <div class="input-group">
                <input type="text" [(ngModel)]="data.signalreg.captcha" name="first" placeholder="3AGdBq27uAugEG666-Tsbs_J-2" class="form-control" >
              </div> -->

               
              
              <!---
              <nb-list *ngIf="data.bestellartikel.length > 0">
                <nb-list-item class="" *ngFor="let ba of data.bestellartikel">
                  
                  <p class="mt-2">{{ ba.menge }}x {{ ba.artikel.name }}</p>
                  <div class="actions">
                  <nb-form-field class="mr-1" [hidden]="!ba.inEdit">
                    <nb-icon (click)="decAmount(ba)" nbPrefix icon="minus-outline" pack="eva"></nb-icon>
                    <input class="amount" [ngModelOptions]="{standalone: true}" [(ngModel)]="ba.menge" nbInput>
                    <nb-icon (click)="incAmount(ba)" nbSuffix icon="plus-outline" pack="eva"></nb-icon>
                  </nb-form-field>

                  <ng-container *ngIf="ba.inEdit; else viewMode">
                    <button nbButton status="success" ghost size="tiny" (click)="onSave(ba)">
                      <nb-icon icon="save-outline"></nb-icon>
                    </button>
                  </ng-container>

                  <button nbButton status="info" ghost size="tiny" (click)="onEdit(ba)" >
                    <nb-icon icon="edit-2-outline"></nb-icon>
                  </button> 

                  <nb-form-field class="mr-1">
                    <nb-icon (click)="decAmount(ba)" nbPrefix icon="minus-outline" pack="eva"></nb-icon>
                    <input class="amount" [ngModelOptions]="{standalone: true}" [(ngModel)]="ba.menge" nbInput>
                    <nb-icon (click)="incAmount(ba)" nbSuffix icon="plus-outline" pack="eva"></nb-icon>
                  </nb-form-field>
                  
                  <p>{{ ba.artikel.preis | currency:'EUR':'symbol':'1.2-2':'de' }}</p>

                </div>
                </nb-list-item>
                <nb-list-item class="actions">
                  Summe {{ data.sum | currency:'EUR':'symbol':'1.2-2':'de'  }}
                </nb-list-item>

              </nb-list>

              
              <p *ngIf="data.bestellartikel.length == 0">Noch keine Artikel hinzugefügt. Wähle bitte Artikel aus der Artikelliste.</p>
            -->
              <button class="m-2" nbButton nbStepperNext>Weiter</button>
            </form>
          </nb-step>
          <nb-step label="Schritt 2">
            <form class="step-container d-flex flex-column">
              <!---<p class="lorem">
                Bitte gib hier deine Tischnummer ein.
              </p>
              <div class="input-group">
                <input maxlength="15" type="text" [(ngModel)]="data.currentBestellung.tischnr" placeholder="13" class="form-control" formControlName="secondNr">
              </div>

              <p class="lorem mt-4">
                Bitte gib hier deinen Namen an, damit wir die Bestellung zu dir bringen können.
              </p>
              <div class="input-group">
                <input maxlength="50" type="text" [(ngModel)]="data.currentBestellung.name" placeholder="Huber" class="form-control" formControlName="secondName">
              </div>
            --->
            <h5>Bot Detection</h5>
            <p class="lorem">
              Signal erfordert eine Bestätigung. <a href="https://signalcaptchas.org/registration/generate.html">Link</a>Bitte gib hier deine Captcha ein.
            </p>
            <div class="input-group">
              <input type="text" [(ngModel)]="data.signalreg.captcha" name="first" placeholder="3AGdBq27uAugEG666-Tsbs_J-2" class="form-control" >
            </div>

            <div class="d-flex flex-row justify-content-between">
              <button nbButton class="mt-2" nbStepperPrevious>Zurück</button>
              <button class="m-2" nbButton nbStepperNext>Weiter</button>
            </div>
            </form>
          </nb-step>

          <nb-step [stepControl]="thirdForm" label="Schritt 3">
            <form class="step-container">             
            <h5>Bestätige den Code</h5>
              <p class="lorem">
                Bitte gib hier deine Code ein.
              </p>
              <div class="input-group">
                <input maxlength="7" type="text" [(ngModel)]="data.signalreq.verify" name="first" placeholder="123-456" class="form-control" >
              </div>
             
              <div class="d-flex flex-row justify-content-between">
                <button nbButton class="mt-2" nbStepperPrevious>Zurück</button>
                <button nbButton class="mt-2" (click)="thirdSubmit()" nbStepperNext>Weiter</button>
              </div>
            </form>
          </nb-step>
          <nb-step [hidden]="true" label="Verlinkt">
            <div class="step-container d-flex flex-column">
              <h3>Du bist jetzt mit Signal verbunden.</h3>
              <p></p>
              <button nbButton (click)="backToDash()">Zum Chat</button>
            </div>
          </nb-step>
        </nb-stepper>
      </nb-card-body>
    </nb-card>
  </div>
